<script src="{{projcfg.appurl}}/static/js/fontJquery/jquery.flot.js"></script>
<script src="{{projcfg.appurl}}/static/js/fontJquery/jquery.flot.resize.js"></script>
<script src="{{projcfg.appurl}}/static/js/fontJquery/jquery.flot.pie.js"></script>
<script src="{{projcfg.appurl}}/static/js/fontJquery/jquery.flot.tooltip.js"></script>
<script src="{{projcfg.appurl}}/static/js/fontJquery/jquery.flot.orderBars.js"></script>
<script src="{{projcfg.appurl}}/static/js/echart/v3.1.3/echarts.min.js"></script>
<script src="{{projcfg.appurl}}/static/laydate/laydate.js"></script>
<script src="{{projcfg.appurl}}/static/code/highcharts.js"></script>
<!--<script src="{{projcfg.appurl}}/static/file/弱覆盖需求导入模板.xlsx"></script>-->
<script src="{{projcfg.appurl}}/static/common/sence.js"></script>


<div class="row" style="solid: rgba(106,93,153,0.51)">

    <div class="col-xs-10 col-md-10 text-left">
        <div style="margin-left: 60px">
            <label>采集时间&nbsp从</label>
            <input id="queryDateStart" name="queryDateStart" style="height: 34px;width:120px ">
            &nbsp到&nbsp
            <input id="queryDateEnd" name="queryDateEnd" style="height: 34px;width:120px ">
            <label>&nbsp&nbsp地区</label>

            <input class="easyui-combobox" value="请选择地市" style="width: 130px;height:34px;" name="district1"
                   id="district1"/>


            <label>&nbsp&nbsp场景</label>
            <input class="easyui-combobox" value="请选择场景" style="width: 130px;height:34px;" name="firstScene"
                   id="firstScene"/>
            <input class="easyui-combobox" value="请选择场景" style="width: 130px;height:34px;" name="secondScene"
                   id="secondScene"/>

        </div>
    </div>


    <div class="col-xs-2 col-md-2 text-left">
        <div class="btn-group" style="margin-top: 3px">

            <a class="btn btn-default dropdown-toggle" data-toggle="dropdown" onclick="getRequirement();"
               aria-expanded="false">
                查询 <i class="glyphicon glyphicon-search"></i>
            </a>
        </div>
    </div>
</div>


<div class="row" style="padding: 20px 5px 5px 10px">
    <div class="col-md-7">

    </div>
    <div class="col-md-5">

        <button class="btn   purple" onclick="doDelete();" type="button" style="padding-left:20px">
            <i class="fa fa-minus">
            </i>
            删除
        </button>
        <button class="btn   purple" type="button" onclick=" importExcel();" style="padding-left:20px">
            <i class="fa fa-sign-in">
            </i>
            导入Excel
        </button>
        <button class="btn   purple" type="button" onclick="exportExcel();" style="padding-left:20px">
            <i class="fa fa-share">
            </i>
            导出到Excel
        </button>

    </div>
</div>


<div class="row" style="padding: 10px 5px 5px 10px">
    <div class="col-md-12" style="height: 500px">
        <table id="showRequirement"></table>
    </div>
</div>


<div class="mydialog" id="addRequirement" style="padding: 20px 0 0 30px">
    <div>
        <div class="row">
            <div class="col-md-12">
                <form id="addRequirementForm" class="form-horizontal form-bordered" role="form"
                      enctype="multipart/form-data">
                    <div class="form-group">
                        <div class="col-sm-9" align="center" style="margin: 5px">
                            <!--窗口上方留白-->
                        </div>
                    </div>
                    <input class="easyui-validatebox form-control"
                           data-options="required:true" type="hidden" style="width:100%;color:#050505" name="ID"
                           id="ID">
                    <input class="easyui-validatebox form-control"
                           data-options="required:true" type="hidden" style="width:100%;color:#050505" name="coll_ID"
                           id="coll_ID">
                    <div class="row" style="padding: 5px 0 0 2px">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="inputNo"
                                       class="col-sm-4 control-label no-padding-right">预建站点名称</label>
                                <div class="col-sm-8">
                                    <input class="easyui-validatebox form-control"
                                           data-options="required:true" style="width:100%;color:#050505"
                                           name="preStName"
                                           id="preStName">
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="inputNo"
                                       class="col-sm-4 control-label no-padding-right">网络制式</label>
                                <div class="col-sm-7">
                                    <input class="easyui-combobox"
                                           data-options="required:true,
                                                       valueField: 'id',
                                                        textField: 'text',
                                                        data: [{id:'2G',text:'2G'},
                                                                {id:'4G',text:'4G'}]"
                                           style="width: 165px;height:34px;color:#050505" name="netModel"
                                           id="netModel">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row" style="padding: 7px 0 0 5px">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="inputName"
                                       class="col-sm-2 control-label no-padding-right">建站位置地址</label>
                                <div class="col-sm-8">
                                    <input class="easyui-validatebox form-control"
                                           data-options="required:true" style="width:100%;color:#050505"
                                           name="stAddress"
                                           id="stAddress">
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="row" style="padding: 10px 0 10px 2px">

                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="inputName"
                                       class="col-sm-4 control-label no-padding-right">站点属性</label>
                                <div class="col-sm-7">
                                    <input class="easyui-combobox form-control"
                                           data-options="required:true,
                                                         valueField: 'id',
                                                        textField: 'text',
                                                        data: [{id:'宏站',text:'宏站'},
                                                                {id:'室分',text:'室分'} ,
                                                                {id:'小基站',text:'小基站'}]"
                                           style="width: 165px;height:34px;color:#050505" name="stPrope"
                                           id="stPrope">
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="inputNo"
                                       class="col-sm-4 control-label no-padding-right">建设类型</label>
                                <div class="col-sm-7">
                                    <input class="easyui-combobox form-control"
                                           data-options="required:true,
                                                         valueField: 'id',
                                                        textField: 'text',
                                                        data: [{id:'新建',text:'新建'},
                                                                {id:'共址',text:'共址'}]"
                                           style="width: 165px;height:34px;color:#050505"
                                           name="buildType" id="buildType">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row" style="padding: 5px 0 0 2px">

                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="inputName"
                                       class="col-sm-4 control-label no-padding-right">需求小区数</label>
                                <div class="col-sm-8">
                                    <input class="easyui-validatebox form-control"
                                           data-options="required:true" style="width:100%;color:#050505"
                                           name="reqCellNum" id="reqCellNum">
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="inputNo"
                                       class="col-sm-4 control-label no-padding-right">是否通过联席会</label>
                                <div class="col-sm-5">
                                    <input class="easyui-combobox form-control"
                                           data-options="required:true,
                                                          valueField: 'id',
                                                        textField: 'text',
                                                        data: [{id:'是',text:'是'},
                                                                {id:'否',text:'否'}]"
                                           style="width: 165px;height:34px;color:#050505"
                                           name="isPass"
                                           id="isPass">
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="row" style="padding: 7px 0 0 5px">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="inputNo"
                                       class="col-sm-4 control-label no-padding-right">负责人</label>
                                <div class="col-sm-7">
                                    <input class="easyui-validatebox form-control"
                                           data-options="required:true" style="width:100%;color:#050505"
                                           name="personCharge"
                                           id="personCharge">
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="inputName"
                                       class="col-sm-4 control-label no-padding-right">联系电话</label>
                                <div class="col-sm-7">
                                    <input class="easyui-validatebox form-control"
                                           data-options="required:true" style="width:100%;color:#050505"
                                           name="personTel" maxlength="11"
                                           id="personTel">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row" style="padding: 5px 0 0 2px">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="inputName"
                                       class="col-sm-2 control-label no-padding-right">上报时间</label>
                                <div class="col-sm-8">
                                    <input class="easyui-validatebox form-control"
                                           data-options="required:true" style="width:100%;color:#050505"
                                           name="reportTime"
                                           id="reportTime">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--  <div class="row" style="padding: 7px 0 0 5px">

                      </div>-->


                    <div class="col-sm-9" align="center" style="margin: 50px">
                        <!--窗口下方留白-->
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


<div class="mydialog" id="inportExcelForm" style="padding: 20px 0 0 30px">
    <div>
        <div class="row">
            <div class="col-md-12">
                <!--<form id="inportExcelForm" enctype="multipart/form-data">-->
                <form id="inportExcelForm" name="inportExcelForm" enctype="multipart/form-data" href="#" method="post">

                    <div class="row">
                        <button class="btn   purple" type="button" style="padding-left:20px">
                            <a href="{{projcfg.appurl}}/static/file/弱覆盖需求导入模板.xlsx">
                                <i class="fa fa-plus">
                                </i>
                                下载需求Excel模板
                            </a>
                        </button>
                    </div>
                </form>

                <form id="file-upload" name="file-upload">
                    <div class="row" style="padding: 50px 0 50px 2px">
                        <div class="form-group">
                            <label for="inputName"
                                   class="col-sm-2 control-label no-padding-left">导入Excel</label>
                            <div class="col-sm-8">
                                <!--<input class="easyui-filebox "-->
                                <input class="easyui-filebox " data-options="prompt:'请选择文件 支持xlsx和xls' "
                                       style="width:100%;"
                                       name="inportWeekFile" id="inportWeekFile">
                            </div>
                            <div class="col-sm-2">
                                <!--<input type='button' value='上传' onclick="">-->
                                <!--<input type='submit' value='提交' onclick="fileUpload()">-->

                            </div>

                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<div class="mydialog" id="downloadExcel" style="padding: 20px 0 0 30px">
    <div>
        <div class="row">
            <div class="col-md-12">
                <form id="downloadExcel">

                    <div class="row">
                        <button class="btn   purple" type="button" style="padding-right:20px">
                            <a id="links" href="" onclick="downloadXLS()">
                                <i class="fa fa-save">
                                </i>
                                下载Excel
                            </a>
                        </button>
                    </div>


                </form>
            </div>
        </div>
    </div>
</div>


<script>

    //进入页面加载弱覆盖需求数据
    $(document).ready(function () {
        getRequirement();

    });


    /**
     * 时间插件，并显示在框内
     */
    var currentDate = new Date();
    laydate.render({
        elem: '#queryDateStart',
        type: 'date',
        theme: '#1640b6',
        calendar: true,
        max: currentDate.getFullYear() + "-" + (currentDate.getMonth()) + '-' + (currentDate.getDate()),
        format: 'yyyy-MM-dd',
        done: function (value, date, endDate) {

        }
    });
    laydate.render({
        elem: '#queryDateEnd',
        type: 'date',
        theme: '#1640b6',
        calendar: true,
        max: currentDate.getFullYear() + "-" + (currentDate.getMonth() + 1) + '-' + (currentDate.getDate()),
        format: 'yyyy-MM-dd',
        done: function (value, date, endDate) {

        }
    });
    //查询起始时间
    var ownMonth = (currentDate.getMonth() + 1);
    var ownDay = (currentDate.getDate());
    var thisDay = currentDate.getFullYear() + "-" + ((ownMonth >= 10) ? ownMonth : ('0' + ownMonth)) + '-' + ((ownDay >= 10) ? ownDay : ('0' + ownDay));

    ///查询结束时间
    var thatMonth = (currentDate.getMonth());
    var thatDay = currentDate.getFullYear() + "-" + ((thatMonth >= 10) ? thatMonth : ('0' + thatMonth)) + '-' + ((ownDay >= 10) ? ownDay : ('0' + ownDay));

    $('#queryDateEnd').val(thisDay);
    $('#queryDateStart').val(thatDay);


    //增加弱覆盖信息弹出框内时间选择

    laydate.render({
        elem: '#reportTime',
        type: 'datetime',
        theme: '#1640b6',
        calendar: true,
        max: currentDate.getFullYear() + "-" + (currentDate.getMonth() + 1) + '-' + (currentDate.getDate()),
        format: 'yyyy-MM-dd HH:mm:ss',
        done: function (value, date, endDate) {

        }
    });


    var ownHour = (currentDate.getHours());
    var ownMin = currentDate.getMinutes();
    var ownSecond = (currentDate.getSeconds());
    var showCheckReportime = currentDate.getFullYear() + "-" + ((ownMonth >= 10) ? ownMonth : ('0' + ownMonth)) + '-' + ((ownDay >= 10) ? ownDay : ('0' + ownDay))
            + ' ' + ((ownHour >= 10) ? ownHour : ('0' + ownHour)) + ':' + ((ownMin >= 10) ? ownMin : ('0' + ownMin))+ ':' + ((ownSecond >= 10) ? ownSecond : ('0' + ownSecond));

    $('#reportTime').val(showCheckReportime);

    /**
     *  弹出导入文件窗口（弱覆盖需求信息）
     */
    function importExcel() {

        var params = getParameter();

        $('#inportExcelForm').show();
        $('#inportExcelForm').mydialog({
            title: '添加文件',
            autoOpen: false,
            width: 500,
            height: 300,
            top: 50,
            modal: true,
            myButtons: [
                {
                    text: '保存',
                    btnCls: 'btn btn-blue',
                    handler: function () {
                        fileUpload(function (data) {
                            console.log(data);

                        });
                        $('#inportExcelForm').dialog('close');
                        $('#showRequirement').datagrid('reload', params);
                    }
                },
                {
                    text: '取消',
                    btnCls: 'btn btn-danger',
                    handler: function () {
                        $('#inportExcelForm').form('clear');
                        $('#inportExcelForm').dialog('close');
                    }
                }
            ]
        });

    }

    /**
     *  导入文件数据 将文件保存到项目临时文件夹
     */
    function fileUpload() {
        var formData = new FormData($('#file-upload')[0]);
        // console.log(formData);
        $.ajax({
            url: '{{projcfg.appurl}}/api/netCell/exportAndInput_router/importRequirementFile',
            type: 'POST',
            data: formData,
            async: true,
            cache: false,
            contentType: false,
            processData: false,
            success: function (data) {
                if (data.success) {
                    msgSuccess(data.msg);
                }else{
                    msgError(data.msg);

                }
            }
        });
    }


    /**
     *  设置联动选择，每个第一场景下有不相同的二级场景
     *
     */
    var scene=readScene();
    var typeData = scene.typeData;
    var options01 = scene.options01;
    var options02 = scene.options02;
    var options03 = scene.options03;
    var options04 = scene.options04;
    //初始化查询项目的下拉列表
    $("#district1").combobox({
        valueField: 'value',//值字段
        textField: 'text',//显示的字段
        data: scene.direct,
        panelWidth: 130,
        panelHeight: "auto"
    });

    $("#firstScene").combobox({
        valueField: 'value',//值字段
        textField: 'text',//显示的字段
        data: typeData,
        panelHeight: 170,
        onSelect: function () {
            var myOptValue = $("#firstScene").combobox("getValue");
            // console.log('myOptValue = ' + myOptValue);
            //清空原来的classify这个combobox中的选项
            $("#secondScene").combobox("clear");
            //动态添加"操作类型"的下拉列表框的option
            if (myOptValue != null && myOptValue === '全部') {

                $("#secondScene").combobox({
                    autoHeight: true,
                    data: '',
                    valueField: 'value',//值字段
                    textField: 'text'//显示的字段
                });
            }
            else if (myOptValue != null && myOptValue === '城区') {

                $("#secondScene").combobox({
                    autoHeight: true,
                    data: options01,
                    valueField: 'value',//值字段
                    textField: 'text'//显示的字段
                });
            } else if (myOptValue != null && myOptValue === '乡镇') {

                $("#secondScene").combobox({
                    autoHeight: true,
                    data: options02,
                    valueField: 'value',//值字段
                    textField: 'text'//显示的字段
                });
            } else if (myOptValue != null && myOptValue === '农村') {

                $("#secondScene").combobox({
                    autoHeight: true,
                    data: options03,
                    valueField: 'value',//值字段
                    textField: 'text'//显示的字段
                });
            } else if (myOptValue != null && myOptValue === '交通') {

                $("#secondScene").combobox({
                    autoHeight: true,
                    data: options04,
                    valueField: 'value',//值字段
                    textField: 'text'//显示的字段
                });
            }

        }
    });


    /**
     *  修改弱覆盖需求信息
     */
    function updateRequirement() {

        //选择要增加需求的数据
        var rows = $('#showRequirement').datagrid('getSelections');
        if (rows.length > 1) {
            alert('请选择一条数据');
        } else {

            $("#addRequirementForm").form("clear");

            // console.log(rows);
            //获取增加需求的弱覆盖需求的值
            $('#ID').val(rows['0'].ID);
            // console.log( $('#ID').val(rows[0].ID));
            $('#coll_ID').val(rows[0].coll_ID);
            $('#buildType').textbox('setValue', rows[0].buildType);
            $('#isPass').textbox('setValue', rows[0].isPass);
            $('#netModel').textbox('setValue', rows[0].netModel);
            $('#personCharge').val(rows[0].personCharge);
            $('#personTel').val(rows[0].personTel);
            $('#preStName').val(rows[0].preStName);
            $('#reportTime').val(rows[0].reportTime);
            $('#reqCellNum').val(rows[0].reqCellNum);
            $('#stAddress').val(rows[0].stAddress);
            $('#stPrope').textbox('setValue', rows[0].stPrope);

            var params = getParameter();

            $('#addRequirement').show();
            $('#addRequirement').mydialog({
                title: '修改弱覆盖需求',
                autoOpen: false,
                width: 700,
                height: 500,
                top: 50,
                modal: true,
                myButtons: [
                    {
                        text: '保存',
                        btnCls: 'btn btn-danger',
                        width: 50,
                        handler: function () {
                            //增加需求，
                            $.ajax({
                                url: "{{projcfg.appurl}}/api/netCell/requirementMan_router/update",
                                type: "post",
                                async: true,
                                cache: true,
                                data: $('#addRequirementForm').serialize(),
                                success: function (data) {
                                    if (data.success) {
                                        console.log(data);
                                        msgSuccess(data.data);
                                    }
                                },
                                error: function (err) {
                                    console.log(err);
                                }
                            });
                            $('#addRequirement').dialog('close');
                            $('#showRequirement').datagrid('reload', params);
                        }
                    },
                    {
                        text: '取消',
                        btnCls: 'btn btn-default',
                        width: 20,
                        handler: function () {
                            $('#addRequirement').dialog('close');
                        }
                    }
                ]
            });
        }


    }


    /**
     *  删除指定的弱覆盖信息数据
     *
     */
    function doDelete() {


        var rows = $('#showRequirement').datagrid('getSelections');//获取当前页的数据行
        if(rows.length<=0){
            alert('请至少选择一条数据');
        }else{
            if(confirm("确认删除这"+rows.length+"条需求数据吗？")==true){
                var params = getParameter();
                $.ajax({

                    url: "{{projcfg.appurl}}/api/netCell/requirementMan_router/delete",
                    type: "get",
                    data: {rows: rows},
                    success: function (data) {
                        console.log(data);
                        if (data.success) {
                            msgSuccess(data.data);
                            $('#showRequirement').datagrid('reload', params);

                        }
                    }
                });
            }
        }




    }


    /**
     * 获取弱覆盖需求数据
     */
    function getRequirement() {

        var params = getParameter();

        $('#showRequirement').datagrid({

            // iconCls: "icon-save",
            width: "100%",
            nowrap: false, //默认true,设置为 true，则把数据显示在一行里。
            striped: true, //设置为 true，则把行条纹化。（即奇偶行使用不同背景色）
            collapsible: false,//是否可折叠的
            remoteSort: true,//默认true,定义是否从服务器排序数据。
            frozenColumns: [[{field: 'ck', checkbox: true}]],//多选框,位置固定在最左边
            url: "{{projcfg.appurl}}/api/netCell/requirementMan_router/",
            method: 'post',
            queryParams: params,
            title: '弱覆盖需求',
            rownumbers: true,
            autoRowHeight: true,
            fitColumns: false,
            resizable: true,
            fixed: true,
            border: true,
            singleSelect: false,
            checkOnSelect: true,
            height: 600,
            // singleSelect: true,
            columns: [[

                {
                    "field": "ID", "title": "ID", align: 'center',hidden:true,width:100
                },
                {
                    "field": "coll_ID", "title": "coll_ID", align: 'center',hidden:true,width:100
                },
                {
                    "field": "preStName", "title": "预建站点名称", align: 'center', sortable: true,width:150
                },
                {
                    "field": "stAddress", "title": "建站位置地址", fixed: true, sortable: true,width:150
                },
                {
                    "field": "netModel", "title": "网络制式", fixed: true, sortable: true,width:70
                },
                {
                    "field": "stPrope", "title": "站点属性", halign: 'center', sortable: true,width:70
                },
                {
                    "field": "buildType", "title": "建设类型", halign: 'center', sortable: true,width:70
                },
                {
                    "field": "reqCellNum", "title": "需求小区数", halign: 'center', sortable: true,width:100
                },
                {
                    "field": "isPass", "title": "是否通过联席会", halign: 'center', sortable: true,width:100
                },
                {
                    "field": "personCharge", "title": "负责人", halign: 'center', sortable: true,width:100
                },
                {
                    "field": "personTel", "title": "联系电话", halign: 'center', sortable: true,width:100
                },
                {
                    "field": "reportTime", "title": "上报时间", halign: 'center', sortable: true,width:100
                },
                {
                    'field': 'operate', title: '操作', align: 'center',width:100,
                    formatter: function (value, row, index) {

                        //修改按钮
                        var str = '<button class="btn   purple" type="button"  onclick=updateRequirement() >\n' +
                                '            <i class="fa fa-edit">\n' +
                                '            </i>\n' +
                                '            修改\n' +
                                '</button>';

                        return str;
                    }
                }

            ]],
            onClickRow: function (rowIndex, rowData) {

            },
            onBeforeLoad: function (param) {

            },
            onLoadSuccess: function (data) {

            },

            onLoadError: function () {
                msgError('加载数据出现时发生错误,请稍候重试...');
            },
            pagination: true,
            loadMsg: '正在加载...'
        });
    }


    /**
     * 将查询的数据条目导出到Excel
     */
    var fileName = '';

    function exportExcel() {

        // var rows = $('#showRequirement').datagrid('getSelections');//获取当前页的数据行
        //获取查询条件
        var params = getParameter();
        $.ajax({

            url: "{{projcfg.appurl}}/api/netCell/exportAndInput_router/exportRequirementExcel",
            type: "get",
            data: {rows: params},
            success: function (data) {
                //导出excel成功后弹出下载框
                if (data.success) {
                    //获取文件名
                    msgSuccess(data.msg);
                    fileName = data.data.fileName;
                    $('#downloadExcel').show();
                    $('#downloadExcel').mydialog({
                        title: '下载文件',
                        autoOpen: false,
                        width: 300,
                        height: 250,
                        top: 50,
                        modal: true,
                        myButtons: [
                            {
                                text: '取消',
                                btnCls: 'btn btn-default',
                                width: 20,
                                handler: function () {
                                    $('#downloadExcel').dialog('close');
                                }
                            }
                        ]
                    });


                }else{
                    msgError(data.msg);
                }

            }
        });

    }

    //下载导出的文件
    function downloadXLS() {

        document.getElementById("links").href = "{{projcfg.appurl}}/static/file/exportExcel/" + fileName;
        $('#downloadExcel').dialog('close');

    }

    //获取查询参数
    function getParameter() {

        var queryDateStart = $('#queryDateStart').val();
        var queryDateEnd = $('#queryDateEnd').val();
        var city = $('#district1').combobox("getValue");
        var firstScene = $('#firstScene').combobox("getValue");
        var secondScene = $('#secondScene').combobox("getValue");

        return {
            queryDateStart: queryDateStart,
            queryDateEnd: queryDateEnd,
            city: city,
            firstScene: firstScene,
            secondScene: secondScene
        };
    }


</script>